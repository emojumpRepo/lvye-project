# å¿ƒä¹‹æ—…é¡¹ç›®è„šæœ¬é‡æ„å®Œæˆ

## ğŸ“ æ›´æ”¹æ€»ç»“

### 1. åç§°ç»Ÿä¸€æ›´æ–°
- âœ… æ‰€æœ‰"ç»¿å¶"å·²æ”¹ä¸º"å¿ƒä¹‹æ—…"
- âœ… é¡¹ç›®æ ‡è¯†ï¼š
  - `lvye-backend` â†’ `mindtrip-backend`
  - `lvye-frontend` â†’ `mindtrip-frontend`
  - `lvye-v` â†’ `mindtrip-v`

### 2. ç›®å½•ç»“æ„ä¼˜åŒ–
- âœ… è„šæœ¬ç»Ÿä¸€æ”¾ç½®åœ¨ `/script` ç›®å½•ï¼ˆåŸ `/scripts`ï¼‰
- âœ… é¿å…äº†å¤šä¸ªè„šæœ¬ç›®å½•çš„æ··ä¹±

### 3. ç‰ˆæœ¬ç®¡ç†å‡çº§
- âœ… å»ºç«‹ç‹¬ç«‹ç‰ˆæœ¬ä½“ç³»ï¼ˆä» v0.0.1 å¼€å§‹ï¼‰
- âœ… å‰åç«¯ç‹¬ç«‹ç‰ˆæœ¬æ–‡ä»¶ï¼š
  - åç«¯ï¼š`version.properties`
  - å‰ç«¯ï¼š`mindtrip-ui/lvye-project-frontend/version.json`
- âœ… Git tag å‘½åè§„èŒƒï¼š
  - åç«¯ï¼š`mindtrip-backend-v0.0.1`
  - å‰ç«¯ï¼š`mindtrip-frontend-v0.0.1`
  - å…¨æ ˆï¼š`mindtrip-v0.0.1`

### 4. æ ¸å¿ƒè„šæœ¬æ–‡ä»¶

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `script/release.mjs` | ä¸»å‘å¸ƒè„šæœ¬ï¼ˆåŸç‰ˆï¼‰ |
| `script/release-v2.mjs` | ç‹¬ç«‹ç‰ˆæœ¬å‘å¸ƒè„šæœ¬ï¼ˆæ–°ç‰ˆï¼‰ |
| `script/test-dify.mjs` | Dify API æµ‹è¯•å·¥å…· |
| `script/config/deploy.config.js` | é›†ä¸­é…ç½®æ–‡ä»¶ |

### 5. Dify é›†æˆä¼˜åŒ–
- âœ… API Key: `app-LTUF7HU291Ug9LAKD4ZC4ZHO`
- âœ… ç®€åŒ–è¾“å…¥å˜é‡åˆ° 4 ä¸ªï¼š
  - `query`: Git commit ä¿¡æ¯ï¼ˆè‡ªåŠ¨è·å–ï¼‰
  - `version`: ç‰ˆæœ¬å·
  - `release_type`: å‘å¸ƒç±»å‹
  - `target_audience`: ç›®æ ‡å—ä¼—
- âœ… è¾“å‡ºæ§åˆ¶åœ¨ 50-100 å­—

### 6. è‡ªåŠ¨åŒ–æ”¹è¿›
- âœ… è‡ªåŠ¨è·å– Git commits ä½œä¸ºå‘å¸ƒå†…å®¹
- âœ… æ™ºèƒ½åˆ¤æ–­ï¼šä¼˜å…ˆä½¿ç”¨ tag ä¹‹é—´çš„ commitsï¼Œå¦åˆ™è·å–æœ€è¿‘ 10 æ¡
- âœ… ç§»é™¤ commit hashï¼Œåªä¿ç•™ message

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–°ç‰ˆå‘å¸ƒï¼ˆæ¨èï¼‰
```bash
# ä½¿ç”¨ç‹¬ç«‹ç‰ˆæœ¬ç®¡ç†
node script/release-v2.mjs

# ä¼šæ˜¾ç¤ºäº¤äº’èœå•ï¼š
# 1. é€‰æ‹©é¡¹ç›®ï¼ˆåç«¯/å‰ç«¯/å…¨æ ˆï¼‰
# 2. é€‰æ‹©ç‰ˆæœ¬ç±»å‹ï¼ˆpatch/minor/majorï¼‰
# 3. ç¡®è®¤å‘å¸ƒ
```

### åŸç‰ˆå‘å¸ƒ
```bash
# ä½¿ç”¨åŸæœ‰å‘å¸ƒæµç¨‹
node script/release.mjs

# æˆ–ä½¿ç”¨ npm è„šæœ¬
npm run release
```

### æµ‹è¯• Dify
```bash
node script/test-dify.mjs
```

## ğŸ“ ç›®å½•ç»“æ„
```
å¿ƒä¹‹æ—…é¡¹ç›®/
â”œâ”€â”€ script/                  # ç»Ÿä¸€è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ release.mjs         # ä¸»å‘å¸ƒè„šæœ¬
â”‚   â”œâ”€â”€ release-v2.mjs      # ç‹¬ç«‹ç‰ˆæœ¬å‘å¸ƒè„šæœ¬
â”‚   â”œâ”€â”€ test-dify.mjs       # Difyæµ‹è¯•å·¥å…·
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ deploy.config.js # é…ç½®ä¸­å¿ƒ
â”‚   â””â”€â”€ windows/
â”‚       â”œâ”€â”€ deploy-backend.mjs
â”‚       â””â”€â”€ deploy-frontend.mjs
â”œâ”€â”€ version.properties       # åç«¯ç‰ˆæœ¬æ–‡ä»¶
â””â”€â”€ mindtrip-ui/
    â””â”€â”€ lvye-project-frontend/
        â””â”€â”€ version.json     # å‰ç«¯ç‰ˆæœ¬æ–‡ä»¶
```

## âœ¨ ä¼˜åŠ¿
1. **å“ç‰Œç»Ÿä¸€**ï¼šå¿ƒä¹‹æ—…å“ç‰Œåç§°è´¯ç©¿æ•´ä¸ªç³»ç»Ÿ
2. **ç‰ˆæœ¬ç‹¬ç«‹**ï¼šå‰åç«¯å¯ç‹¬ç«‹å‘ç‰ˆï¼Œç‰ˆæœ¬æ¸…æ™°
3. **è‡ªåŠ¨æ™ºèƒ½**ï¼šåŸºäºçœŸå® commits ç”Ÿæˆå‘å¸ƒè¯´æ˜
4. **ç›®å½•ç®€æ´**ï¼šç»Ÿä¸€ä½¿ç”¨ `/script` ç›®å½•

## ğŸ¯ ä¸‹ä¸€æ­¥
1. è¿è¡Œ `node script/release-v2.mjs` åˆ›å»ºç¬¬ä¸€ä¸ªå¿ƒä¹‹æ—…ç‰ˆæœ¬
2. ç‰ˆæœ¬å°†ä» `v0.0.1` å¼€å§‹å…¨æ–°è®¡æ•°
3. å‰åç«¯å¯ç‹¬ç«‹ç®¡ç†å’Œå‘å¸ƒ